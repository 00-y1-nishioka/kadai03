<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>myMemoPad</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>
<body>
<header>
<h1>To Do List</h1>
</header>
<main>
    <input type="text" id="todo">
    <ul>
        <li id="save">Save</li>
    </ul>

</main>
<table id="list">
<!-- ここに追加データが挿入される -->
</table>
<script>


let key = 0;
//1.Save クリックイベント
$("#save").on("click",function(){

      //データを定数に入れる

      const todo = $("#todo").val();
      key = key +1;


      console.log(key);
      console.log(todo);

      //データをlocalStorageに保存する
      localStorage.setItem(key,todo);

    //フォームの中身を空にする処理
    $("#todo").val("");


});






//2.button クリックで横のキーを消す。
$("#button").on("click",function(){
    localStorage.removeItem();
    $("#list").empty();
});




//3.ページ読み込み：保存データ取得表示
for (let i = 0; i<localStorage.length; i++) {
    
    //ローカルストレージ内のi番目のkeyを取得
    const key   = localStorage.key(i);
    const todo = localStorage.getItem(key);

    //データをブラウザに表示する処理（テンプレートリテラル）
    const html = `
                        <tr>
                                <th><button type="button"}><img src="bats.png"/></button></th>
                                <th>${todo}</th>
                        </tr>
                        `;
    $("#list").append(html);

 } 

</script>
<footer><small>西岡's</small></footer>
</body>
</html>